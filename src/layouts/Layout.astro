---
import '@/styles/global.css'

import { SEO } from 'astro-seo'
---

<script is:inline>
	const getThemePreference = () => {
		if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
			return localStorage.getItem('theme');
		}
		return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
	};
	const isDark = getThemePreference() === 'dark';
	document.documentElement.classList[isDark ? 'add' : 'remove']('dark');
 
	if (typeof localStorage !== 'undefined') {
		const observer = new MutationObserver(() => {
			const isDark = document.documentElement.classList.contains('dark');
			localStorage.setItem('theme', isDark ? 'dark' : 'light');
		});
		observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
	}
</script>

<html lang="en">
	<head>
		<SEO
			title="StartPage | Seu Hub Inicial Inteligente"
			titleTemplate="%s | freitaseric"
  			description="Uma página inicial leve e otimizada para navegadores. Acesso rápido a recursos exclusivos, ferramentas de dev e dashboard personalizável que a nova guia padrão não oferece."
  			canonical="https://sua-startpage.com"
  			openGraph={{
    			basic: {
      				title: "Melhore sua Nova Guia - StartPage por freitaseric",
      				type: "website",
      				image: new URL("/og-image.png", Astro.site).toString(),
    			},
    			optional: {
      				description: "Substitua sua home padrão por um dashboard focado em produtividade e recursos avançados.",
      				siteName: "freitaseric StartPage",
    			}
  			}}
  			twitter={{
    			card: "summary_large_image",
    			creator: "@freitaseric",
    			title: "Sua nova página inicial favorita",
    			description: "Minimalista, rápida e cheia de recursos que os navegadores esqueceram de incluir.",
    			image: new URL("/og-image.png", Astro.site).toString(),
  			}}
  			extend={{
    			link: [
      				{ rel: "icon", href: "/favicon.ico", sizes: "32x32" },
      				{ rel: "icon", href: "/favicon.svg", type: "image/svg+xml" },
      				{ rel: "icon", href: "/favicon-96x96.png", type: "image/png", sizes: "96x96" },
      				{ rel: "apple-touch-icon", href: "/apple-touch-icon.png" },
					{ rel: "manifest", href: "/site.webmanifest" }
    			],
    			meta: [
      				{ name: "theme-color", content: "#a881f1" }, 
    			],
  			}}
		/>
<meta name="generator" content={Astro.generator} />
	</head>
	<body>
		<slot/>
	</body>
</html>

